{
  "hash": "459076c1d1b47ff29377ee48995e944c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"messy\"\nformat: html\n---\n\n\n# Setup\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(tidyverse)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.4     ✔ readr     2.1.5\n✔ forcats   1.0.0     ✔ stringr   1.5.1\n✔ ggplot2   4.0.0     ✔ tibble    3.2.1\n✔ lubridate 1.9.4     ✔ tidyr     1.3.1\n✔ purrr     1.0.4     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (<http://conflicted.r-lib.org/>) to force all conflicts to become errors\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(janitor)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'janitor'\n\nThe following objects are masked from 'package:stats':\n\n    chisq.test, fisher.test\n```\n\n\n:::\n\n```{.r .cell-code}\nlibrary(dplyr)\nlibrary(naniar)\nlibrary(skimr)\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\n\nAttaching package: 'skimr'\n\nThe following object is masked from 'package:naniar':\n\n    n_complete\n```\n\n\n:::\n:::\n\n\n\n\n# Reading Data\n// not a csv file, uses delim to specify the type \n\n\n::: {.cell}\n\n```{.r .cell-code}\nMessyPenguine <- readr::read_delim(\"../data/Messy_Penguins.csv\", delim=\";\") %>% \njanitor::clean_names(case=\"snake\")\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nRows: 344 Columns: 8\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \";\"\nchr (3): species, island, sex\ndbl (3): flipper_len, body_mass, year\nnum (2): bill_len, bill_dep\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n```\n\n\n:::\n\n```{.r .cell-code}\nMessyPenguine\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 344 × 8\n   species island      bill_len bill_dep flipper_len body_mass sex     year\n   <chr>   <chr>          <dbl>    <dbl>       <dbl>     <dbl> <chr>  <dbl>\n 1 Adelie  \" \"              391      187         181      3750 male    2007\n 2 Adelie  \"Torgersen\"      395      174         186      3800 female  2007\n 3 Adelie  \"Torgersen\"      403      180         195      3250 female  2007\n 4 Adelie  \"Torgersen\"       NA       NA          NA        NA <NA>    2007\n 5 Adelie  \"Torgersen\"     9990       NA         193      3450 female  2007\n 6 Adelie  \"Torgersen\"      393      206         190      3650 male    2007\n 7 Adelie  \"Torgersen\"      389      178         181      3625 female  2007\n 8 Adelie  \" \"              392      196         195      4675 male    2007\n 9 Adelie  \"Torgersen\"      341      181         193      3475 <NA>    2007\n10 Adelie  \"Torgersen\"      420      202         190      4250 <NA>    2007\n# ℹ 334 more rows\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nskimr::skim_without_charts(\"MessyPenguine\")\n```\n\n::: {.cell-output-display}\n\nTable: Data summary\n\n|                         |                |\n|:------------------------|:---------------|\n|Name                     |\"MessyPenguine\" |\n|Number of rows           |1               |\n|Number of columns        |1               |\n|_______________________  |                |\n|Column type frequency:   |                |\n|character                |1               |\n|________________________ |                |\n|Group variables          |None            |\n\n\n**Variable type: character**\n\n|skim_variable | n_missing| complete_rate| min| max| empty| n_unique| whitespace|\n|:-------------|---------:|-------------:|---:|---:|-----:|--------:|----------:|\n|data          |         0|             1|  13|  13|     0|        1|          0|\n\n\n:::\n:::\n\n\n\n# Replacing \" \" with NA\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMessyPenguine_woSpace <- MessyPenguine %>% \n  naniar::replace_with_na_all(condition = ~.x %in% (\" \"))\nglimpse(MessyPenguine_woSpace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species     <chr> \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\", \"Adelie\"…\n$ island      <chr> NA, \"Torgersen\", \"Torgersen\", \"Torgersen\", \"Torgersen\", \"T…\n$ bill_len    <dbl> 391, 395, 403, NA, 9990, 393, 389, 392, 341, 420, 378, 378…\n$ bill_dep    <dbl> 187, 174, 180, NA, NA, 206, 178, 196, 181, 202, 171, 173, …\n$ flipper_len <dbl> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180,…\n$ body_mass   <dbl> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, …\n$ sex         <chr> \"male\", \"female\", \"female\", NA, \"female\", \"male\", \"female\"…\n$ year        <dbl> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n\n\n# Missing Data\n\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_dat(MessyPenguine_woSpace)\n```\n\n::: {.cell-output-display}\n![](messy_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nvisdat::vis_miss(MessyPenguine_woSpace)\n```\n\n::: {.cell-output-display}\n![](messy_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n# Removing NA Rows\n\n\n::: {.cell}\n\n```{.r .cell-code}\ntidyr::drop_na(MessyPenguine_woSpace)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 239 × 8\n   species island    bill_len bill_dep flipper_len body_mass sex     year\n   <chr>   <chr>        <dbl>    <dbl>       <dbl>     <dbl> <chr>  <dbl>\n 1 Adelie  Torgersen      395      174         186      3800 female  2007\n 2 Adelie  Torgersen      403      180         195      3250 female  2007\n 3 Adelie  Torgersen      393      206         190      3650 male    2007\n 4 Adelie  Torgersen      389      178         181      3625 female  2007\n 5 Adelie  Torgersen      411      176         182      3200 female  2007\n 6 Adelie  Torgersen      386      212         191      3800 male    2007\n 7 Adelie  Torgersen      366      178         185      3700 female  2007\n 8 Adelie  Torgersen      387      190         195      3450 female  2007\n 9 Adelie  Torgersen      425      207         197      4500 male    2007\n10 Adelie  Torgersen      344      184         184      3325 female  2007\n# ℹ 229 more rows\n```\n\n\n:::\n\n```{.r .cell-code}\nMessyPenguine_woSpace\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\n# A tibble: 344 × 8\n   species island    bill_len bill_dep flipper_len body_mass sex     year\n   <chr>   <chr>        <dbl>    <dbl>       <dbl>     <dbl> <chr>  <dbl>\n 1 Adelie  <NA>           391      187         181      3750 male    2007\n 2 Adelie  Torgersen      395      174         186      3800 female  2007\n 3 Adelie  Torgersen      403      180         195      3250 female  2007\n 4 Adelie  Torgersen       NA       NA          NA        NA <NA>    2007\n 5 Adelie  Torgersen     9990       NA         193      3450 female  2007\n 6 Adelie  Torgersen      393      206         190      3650 male    2007\n 7 Adelie  Torgersen      389      178         181      3625 female  2007\n 8 Adelie  <NA>           392      196         195      4675 male    2007\n 9 Adelie  Torgersen      341      181         193      3475 <NA>    2007\n10 Adelie  Torgersen      420      202         190      4250 <NA>    2007\n# ℹ 334 more rows\n```\n\n\n:::\n:::\n\n\n\n\n# Factors\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMessyPenguine_factor <- MessyPenguine_woSpace %>%\n  mutate(\n    species = as.factor(species),\n    island = as.factor(island),\n    sex = as.factor(sex))\ndplyr::glimpse(MessyPenguine_factor)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species     <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…\n$ island      <fct> NA, Torgersen, Torgersen, Torgersen, Torgersen, Torgersen,…\n$ bill_len    <dbl> 391, 395, 403, NA, 9990, 393, 389, 392, 341, 420, 378, 378…\n$ bill_dep    <dbl> 187, 174, 180, NA, NA, 206, 178, 196, 181, 202, 171, 173, …\n$ flipper_len <dbl> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180,…\n$ body_mass   <dbl> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, …\n$ sex         <fct> male, female, female, NA, female, male, female, male, NA, …\n$ year        <dbl> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nMessyPenguine_relocated <- MessyPenguine_factor %>% \n  relocate(where(is.factor), .after= species)\nglimpse(MessyPenguine_relocated)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRows: 344\nColumns: 8\n$ species     <fct> Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Adelie, Ad…\n$ island      <fct> NA, Torgersen, Torgersen, Torgersen, Torgersen, Torgersen,…\n$ sex         <fct> male, female, female, NA, female, male, female, male, NA, …\n$ bill_len    <dbl> 391, 395, 403, NA, 9990, 393, 389, 392, 341, 420, 378, 378…\n$ bill_dep    <dbl> 187, 174, 180, NA, NA, 206, 178, 196, 181, 202, 171, 173, …\n$ flipper_len <dbl> 181, 186, 195, NA, 193, 190, 181, 195, 193, 190, 186, 180,…\n$ body_mass   <dbl> 3750, 3800, 3250, NA, 3450, 3650, 3625, 4675, 3475, 4250, …\n$ year        <dbl> 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007, 2007…\n```\n\n\n:::\n:::\n\n\n\n# Cleaned Table\n\n\n::: {.cell}\n\n```{.r .cell-code}\nMessyPenguine_relocated  %>%\n  head(10) %>%\n  tinytable::tt(caption = \"Messy Penguine(Clean)\")\n```\n\n::: {.cell-output-display}\n\n```{=html}\n<!-- preamble start -->\n\n    <script>\n\n      function styleCell_tts1m80ltv31m28f1sik(i, j, css_id) {\n          var table = document.getElementById(\"tinytable_tts1m80ltv31m28f1sik\");\n          var cell = table.querySelector(`[data-row=\"${i}\"][data-col=\"${j}\"]`);\n          if (cell) {\n              console.log(`Styling cell at (${i}, ${j}) with class ${css_id}`);\n              cell.classList.add(css_id);\n          } else {\n              console.warn(`Cell at (${i}, ${j}) not found.`);\n          }\n      }\n      function spanCell_tts1m80ltv31m28f1sik(i, j, rowspan, colspan) {\n        var table = document.getElementById(\"tinytable_tts1m80ltv31m28f1sik\");\n        const targetCell = table.querySelector(`[data-row=\"${i}\"][data-col=\"${j}\"]`);\n        if (!targetCell) {\n          console.warn(`Cell at (${i}, ${j}) not found.`);\n        }\n\n        // Get all cells that need to be removed\n        const cellsToRemove = [];\n        for (let r = 0; r < rowspan; r++) {\n          for (let c = 0; c < colspan; c++) {\n            if (r === 0 && c === 0) continue; // Skip the target cell\n            const cell = table.querySelector(`[data-row=\"${i + r}\"][data-col=\"${j + c}\"]`);\n            if (cell) {\n              cellsToRemove.push(cell);\n            }\n          }\n        }\n\n        // Remove all cells\n        cellsToRemove.forEach(cell => cell.remove());\n\n        // Set rowspan and colspan of the target cell if it exists\n        if (targetCell) {\n          targetCell.rowSpan = rowspan;\n          targetCell.colSpan = colspan;\n        }\n      }\n      // tinytable span after\n      window.addEventListener('load', function () {\n          var cellsToStyle = [\n            // tinytable style arrays after\n          { positions: [ { i: '10', j: 0 }, { i: '10', j: 1 }, { i: '10', j: 2 }, { i: '10', j: 3 }, { i: '10', j: 4 }, { i: '10', j: 5 }, { i: '10', j: 6 }, { i: '10', j: 7 },  ], css_id: 'tinytable_css_xue4gf3w6kjuhcx2fk6c',}, \n          { positions: [ { i: '0', j: 0 }, { i: '0', j: 1 }, { i: '0', j: 2 }, { i: '0', j: 3 }, { i: '0', j: 4 }, { i: '0', j: 5 }, { i: '0', j: 6 }, { i: '0', j: 7 },  ], css_id: 'tinytable_css_hpx1htss4cua9sr49a1a',}, \n          ];\n\n          // Loop over the arrays to style the cells\n          cellsToStyle.forEach(function (group) {\n              group.positions.forEach(function (cell) {\n                  styleCell_tts1m80ltv31m28f1sik(cell.i, cell.j, group.css_id);\n              });\n          });\n      });\n    </script>\n\n    <style>\n      /* tinytable css entries after */\n      .table td.tinytable_css_xue4gf3w6kjuhcx2fk6c, .table th.tinytable_css_xue4gf3w6kjuhcx2fk6c { border-bottom: solid #d3d8dc 0.1em; }\n      .table td.tinytable_css_hpx1htss4cua9sr49a1a, .table th.tinytable_css_hpx1htss4cua9sr49a1a { border-top: solid #d3d8dc 0.1em; border-bottom: solid #d3d8dc 0.05em; }\n    </style>\n    <div class=\"container\">\n      <table class=\"table table-borderless\" id=\"tinytable_tts1m80ltv31m28f1sik\" style=\"width: auto; margin-left: auto; margin-right: auto;\" data-quarto-disable-processing='true'>\n        <thead>\n        <caption>Messy Penguine(Clean)</caption>\n              <tr>\n                <th scope=\"col\" data-row=\"0\" data-col=\"0\">species</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"1\">island</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"2\">sex</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"3\">bill_len</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"4\">bill_dep</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"5\">flipper_len</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"6\">body_mass</th>\n                <th scope=\"col\" data-row=\"0\" data-col=\"7\">year</th>\n              </tr>\n        </thead>\n        \n        <tbody>\n                <tr>\n                  <td data-row=\"1\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"1\" data-col=\"1\">NA</td>\n                  <td data-row=\"1\" data-col=\"2\">male</td>\n                  <td data-row=\"1\" data-col=\"3\">391</td>\n                  <td data-row=\"1\" data-col=\"4\">187</td>\n                  <td data-row=\"1\" data-col=\"5\">181</td>\n                  <td data-row=\"1\" data-col=\"6\">3750</td>\n                  <td data-row=\"1\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"2\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"2\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"2\" data-col=\"2\">female</td>\n                  <td data-row=\"2\" data-col=\"3\">395</td>\n                  <td data-row=\"2\" data-col=\"4\">174</td>\n                  <td data-row=\"2\" data-col=\"5\">186</td>\n                  <td data-row=\"2\" data-col=\"6\">3800</td>\n                  <td data-row=\"2\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"3\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"3\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"3\" data-col=\"2\">female</td>\n                  <td data-row=\"3\" data-col=\"3\">403</td>\n                  <td data-row=\"3\" data-col=\"4\">180</td>\n                  <td data-row=\"3\" data-col=\"5\">195</td>\n                  <td data-row=\"3\" data-col=\"6\">3250</td>\n                  <td data-row=\"3\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"4\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"4\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"4\" data-col=\"2\">NA</td>\n                  <td data-row=\"4\" data-col=\"3\">NA</td>\n                  <td data-row=\"4\" data-col=\"4\">NA</td>\n                  <td data-row=\"4\" data-col=\"5\">NA</td>\n                  <td data-row=\"4\" data-col=\"6\">NA</td>\n                  <td data-row=\"4\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"5\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"5\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"5\" data-col=\"2\">female</td>\n                  <td data-row=\"5\" data-col=\"3\">9990</td>\n                  <td data-row=\"5\" data-col=\"4\">NA</td>\n                  <td data-row=\"5\" data-col=\"5\">193</td>\n                  <td data-row=\"5\" data-col=\"6\">3450</td>\n                  <td data-row=\"5\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"6\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"6\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"6\" data-col=\"2\">male</td>\n                  <td data-row=\"6\" data-col=\"3\">393</td>\n                  <td data-row=\"6\" data-col=\"4\">206</td>\n                  <td data-row=\"6\" data-col=\"5\">190</td>\n                  <td data-row=\"6\" data-col=\"6\">3650</td>\n                  <td data-row=\"6\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"7\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"7\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"7\" data-col=\"2\">female</td>\n                  <td data-row=\"7\" data-col=\"3\">389</td>\n                  <td data-row=\"7\" data-col=\"4\">178</td>\n                  <td data-row=\"7\" data-col=\"5\">181</td>\n                  <td data-row=\"7\" data-col=\"6\">3625</td>\n                  <td data-row=\"7\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"8\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"8\" data-col=\"1\">NA</td>\n                  <td data-row=\"8\" data-col=\"2\">male</td>\n                  <td data-row=\"8\" data-col=\"3\">392</td>\n                  <td data-row=\"8\" data-col=\"4\">196</td>\n                  <td data-row=\"8\" data-col=\"5\">195</td>\n                  <td data-row=\"8\" data-col=\"6\">4675</td>\n                  <td data-row=\"8\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"9\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"9\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"9\" data-col=\"2\">NA</td>\n                  <td data-row=\"9\" data-col=\"3\">341</td>\n                  <td data-row=\"9\" data-col=\"4\">181</td>\n                  <td data-row=\"9\" data-col=\"5\">193</td>\n                  <td data-row=\"9\" data-col=\"6\">3475</td>\n                  <td data-row=\"9\" data-col=\"7\">2007</td>\n                </tr>\n                <tr>\n                  <td data-row=\"10\" data-col=\"0\">Adelie</td>\n                  <td data-row=\"10\" data-col=\"1\">Torgersen</td>\n                  <td data-row=\"10\" data-col=\"2\">NA</td>\n                  <td data-row=\"10\" data-col=\"3\">420</td>\n                  <td data-row=\"10\" data-col=\"4\">202</td>\n                  <td data-row=\"10\" data-col=\"5\">190</td>\n                  <td data-row=\"10\" data-col=\"6\">4250</td>\n                  <td data-row=\"10\" data-col=\"7\">2007</td>\n                </tr>\n        </tbody>\n      </table>\n    </div>\n<!-- hack to avoid NA insertion in last line -->\n```\n\n:::\n:::\n",
    "supporting": [
      "messy_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}